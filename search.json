[{"path":"https://qile0317.github.io/APackOfTheClones/LICENSE.html","id":null,"dir":"","previous_headings":"","what":"MIT License","title":"MIT License","text":"Copyright (c) 2023 Qile Yang Permission hereby granted, free charge, person obtaining copy software associated documentation files (“Software”), deal Software without restriction, including without limitation rights use, copy, modify, merge, publish, distribute, sublicense, /sell copies Software, permit persons Software furnished , subject following conditions: copyright notice permission notice shall included copies substantial portions Software. SOFTWARE PROVIDED “”, WITHOUT WARRANTY KIND, EXPRESS IMPLIED, INCLUDING LIMITED WARRANTIES MERCHANTABILITY, FITNESS PARTICULAR PURPOSE NONINFRINGEMENT. EVENT SHALL AUTHORS COPYRIGHT HOLDERS LIABLE CLAIM, DAMAGES LIABILITY, WHETHER ACTION CONTRACT, TORT OTHERWISE, ARISING , CONNECTION SOFTWARE USE DEALINGS SOFTWARE.","code":""},{"path":"https://qile0317.github.io/APackOfTheClones/articles/Clonal_expansion_plotting.html","id":"introduction","dir":"Articles","previous_headings":"","what":"Introduction","title":"Clonal expansion plotting tutorial","text":"Single-cell RNA sequencing (scRNA-seq) T cell receptor (TCR) sequencing popular techniques studying immune cell function disease. combined use data can provide insights clonal expansion. APackOfTheClones provides simple, publication-ready method intuitively visualize clonal expansion different cell clusters ggplot2, can easily slotted analysis pipeline. user vignette, assume basic familiarity Seurat R, Seurat object already processed basic pipeline least UMAP reduction obtained. importantly, clonal expansion can analyzed biosample run 10X genomics Chromium Single Cell Immune Profiling service, resulting data processed Cell Ranger. showing basic usage main function package, Namely, integration 10X genomics T-cell receptor library generated Cell Ranger Seurat object, followed usage fully customizable clonal expansion plotting method.","code":""},{"path":"https://qile0317.github.io/APackOfTheClones/articles/Clonal_expansion_plotting.html","id":"setup-the-seurat-object-and-t-cell-receptor-library","dir":"Articles","previous_headings":"","what":"Setup the Seurat object and T cell receptor library","title":"Clonal expansion plotting tutorial","text":"anything else can done, need Seurat object UMAP reduction. , can also see UMAP reduction plot. important present within Seurat object later clonal expansion visualization can based coordinates intuitiveness.  analyze clonal expansion, T-cell library (form all_contig_annotations.csv file) generated Cell Ranger “integrated” seurat object. simply means cell-level receptor information incorporated @meta.data attribute. However, , let’s quickly view file structure. r dataframe read-file loaded named tcr_dataframe: first 5 rows file look like directly cell ranger. reason custom version dataframe different, highly important LEAST exists column column name barcode (column 1) raw_clonotype_id (column 17), otherwise everything else work intended.","code":"library(Seurat) library(APackOfTheClones)  # Here, a Seurat object has already been loaded named `pbmc` print(pbmc) #> An object of class Seurat  #> 31053 features across 8000 samples within 1 assay  #> Active assay: RNA (31053 features, 2000 variable features) #>  2 dimensional reductions calculated: pca, umap umap_plot <- UMAPPlot(pbmc) umap_plot head(tcr_dataframe) library(readr) tcr_dataframe <- readr::read_csv(\"your_file_location/all_contig_annotations.csv\")"},{"path":"https://qile0317.github.io/APackOfTheClones/articles/Clonal_expansion_plotting.html","id":"integration-of-clonotype-information","dir":"Articles","previous_headings":"","what":"Integration of clonotype information","title":"Clonal expansion plotting tutorial","text":"finally incorporate TCR(T-cell receptor library) data seurat object, ’ll use simple integrate_tcr function. Note last argument verbose intentionally set FALSE due presence progress bar corrupts formatting vignette (defaults recommended TRUE). Otherwise, output R Console following: calling integrate_tcr, one can now find information all_contig_annotations.csv within @meta.data attribute. Let’s take quick look looks like: snippet meta data, can see particular seurat object, first 5 columns orig.ident, nCount_RNA, nFeature_RNA, RNA_snn_res.0.6, seurat_clusters originally present. care new columns . key things note: * lot NA values, due 1) cells aren’t T cells, 2) T cell receptors end sequenced many possible reasons, 3) sequenced T cells TCR library, usually lot duplicate barcodes (repeated TCR sequencing cell) individual cell may several TCR types /need several contigs assemble final sequence. * unique data TCRs cell (barcode) collapsed together __ order contigs Now, seurat object can analyzed downstream new integrated information however wish. also now ready clonotypes counted clonal expansion visualized.","code":"pbmc <- integrate_tcr(pbmc, tcr_dataframe, verbose = FALSE) #> integrating TCR library into seurat object #>   |====================================| 100% #> Percent of unique barcodes: 31 % head(pbmc@meta.data)"},{"path":"https://qile0317.github.io/APackOfTheClones/articles/Clonal_expansion_plotting.html","id":"ball-packing-visualization","dir":"Articles","previous_headings":"","what":"Ball packing visualization","title":"Clonal expansion plotting tutorial","text":"one produce visualization simply running following code:","code":"pbmc_expansion_plot <- clonal_expansion_plot(pbmc, verbose = FALSE) # once again, `verbose` is set to false due to numerous progress bars but it defaults to TRUE and that is very recommended pbmc_expansion_plot"},{"path":"https://qile0317.github.io/APackOfTheClones/articles/Clonal_expansion_plotting.html","id":"a-few-things-to-note-about-the-plot","dir":"Articles","previous_headings":"Ball packing visualization","what":"A few things to note about the plot","title":"Clonal expansion plotting tutorial","text":"clonotype counts seurat cluster corresponds position color original UMAP centroids expanded clonotypes center circle cluster larger sizes, symbolizing increased expansion less circles scRNAseq cell count due aforementioned reasons. top left, somewhat covered visual legend relative clone sizes red green clusters considerable visual overlap returned plot fully customizable ggplot object APackOfTheClones rapid-development phase, resulting clonal expansion plot usually visually satisfactory first run without customizations. However, many optional arguments ggplot tricks explore help us make publication quality. clonal_expansion_plot also work user provides original seurat object raw TCR library dataframe, like :","code":"# let pbmc be the raw seurat object before the integration pbmc_expansion_plot <- clonal_expansion_plot(pbmc, tcr_dataframe, verbose = FALSE)"},{"path":"https://qile0317.github.io/APackOfTheClones/articles/Clonal_expansion_plotting.html","id":"plot-refinement-and-customization","dir":"Articles","previous_headings":"","what":"Plot refinement and customization","title":"Clonal expansion plotting tutorial","text":"Unfinished","code":""},{"path":"https://qile0317.github.io/APackOfTheClones/articles/Clonal_expansion_plotting.html","id":"adjusting-intra-cluster-spacing","dir":"Articles","previous_headings":"Plot refinement and customization","what":"Adjusting intra-cluster spacing","title":"Clonal expansion plotting tutorial","text":"considerable overlap clusters (due algorithm’s attempt fit clusters original UMAP coordinates) may sometimes obstruct eachother excessively. account , four optional arguments clonal_expansion plot: details , read “Arguments” section function documentation (?clonal_expansion_plot). summarize, first, make circle clusters move away eachother, repulse set TRUE, function ran . (feel excessive re-running takes long inefficient workflow current form, please make issue github page.) Setting repulse TRUE default parameters probably yield something like following:  can see, red green clusters “moved away” , little overlap remaining. clusters touching remain original positions. still unhappy spacing plot, see following ways adjust spacing: repulsion_threshold indicates amount ggplot2 units overlap clusters acceptable. defaults 1, meaning two clusters overlap 1 unit considered repulsion algorithm overlapping. Increasing number increase amount overlap clusters, decreasing number opposite, decreasing negative values incur additional spacing clusters. However, using negative spacing may cause plot look spaced . Keep reading see alternatives . repulsion_strength relates much clusters repel . repulsion algorithm works iterations, iteration, cluster “pushes” away eachother amount. Increasing value cause extra “pushing” iteration. However, increasing factor much may result visually unpleasant plot. Note closer clusters repell eachother , larger clusters repel smaller clusters . max_repulsion_iter indicates number iterations clusters repel eachother. Increasing number ensure clusters (almost always) sure overlapping. trick parameter make pleasant plots decrease repulsion_strength increase max_repulsion_iter possibly make pleasant arrangement clusters.","code":"repulse = FALSE, repulsion_threshold = 1, repulsion_strength = 1, max_repulsion_iter = 10 pbmc_expansion_plot <- clonal_expansion_plot(pbmc, repulse = TRUE, verbose = FALSE) pbmc_expansion_plot"},{"path":"https://qile0317.github.io/APackOfTheClones/articles/Clonal_expansion_plotting.html","id":"adjusting-and-customizing-size-legend","dir":"Articles","previous_headings":"Plot refinement and customization","what":"Adjusting and customizing size legend","title":"Clonal expansion plotting tutorial","text":"plot ’ve generated size legend top left, see partially outside plot. Unfortunately algorithm placing legend far perfect current release (v0.1.1) user little extra work. following six parameters adjust legend: , can adjust argument legend_buffer, indicates amount ggplot2 units move legend “inwards” . can also slightly increase legend_spacing, argument specifying vertical distance circles legend.  unfinished","code":"add_size_legend = TRUE, legend_sizes = c(1, 5, 50), legend_position = \"top_left\", legend_buffer = 1.5, legend_color = \"#808080\", legend_spacing = 0.4 # the previous arguments have to be maintained! pbmc_expansion_plot <- clonal_expansion_plot(pbmc, legend_buffer = 3, legend_spacing = 0.6, repulse = TRUE, verbose = FALSE) pbmc_expansion_plot"},{"path":"https://qile0317.github.io/APackOfTheClones/articles/Clonal_expansion_plotting.html","id":"adjusting-and-customizing-circle-size-and-scaling","dir":"Articles","previous_headings":"Plot refinement and customization","what":"Adjusting and customizing circle size and scaling","title":"Clonal expansion plotting tutorial","text":"unfinished","code":""},{"path":"https://qile0317.github.io/APackOfTheClones/articles/Clonal_expansion_plotting.html","id":"possible-ggplot-based-modifications","dir":"Articles","previous_headings":"Plot refinement and customization","what":"Possible ggplot-based modifications","title":"Clonal expansion plotting tutorial","text":"unfinished","code":""},{"path":"https://qile0317.github.io/APackOfTheClones/articles/Clonal_expansion_plotting.html","id":"final-product","dir":"Articles","previous_headings":"","what":"Final product","title":"Clonal expansion plotting tutorial","text":"","code":"library(ggplot2) library(cowplot)  comparison_plot <- cowplot::plot_grid(umap_plot + ggtitle(\"scRNA-seq UMAP\"),                         pbmc_expansion_plot +                           theme(legend.position = \"none\") +                           ggtitle(\"APackOfTheClones clonal expansion plot\"),                         labels = \"AUTO\") comparison_plot"},{"path":"https://qile0317.github.io/APackOfTheClones/articles/Clonal_expansion_plotting.html","id":"appendix","dir":"Articles","previous_headings":"","what":"Appendix","title":"Clonal expansion plotting tutorial","text":"really want reproduce plots code vignette, need install data used vignette compiled R package SCIPData. can following code rest code can copied used accordingly.","code":"# install the data package library(devtools) devtools::install_github(\"Qile0317/SCIPData\")  # load the package data directly into R objects in memory data(\"pbmc\") data(\"tcr_dataframe\")"},{"path":"https://qile0317.github.io/APackOfTheClones/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"Qile Yang. Maintainer, author, copyright holder.","code":""},{"path":"https://qile0317.github.io/APackOfTheClones/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Yang, Qile. 2023. APackOfTheClones: Visualize T cell clonal expansion via circle packing.  URL https://github.com/Qile0317/APackOfTheClones","code":"@Manual{,   title = {APackOfTheClones: Visualize T cell clonal expansion via circle packing},   author = {Qile Yang},   year = {2023},   url = {https://github.com/Qile0317/APackOfTheClones}, }"},{"path":"https://qile0317.github.io/APackOfTheClones/index.html","id":"apackoftheclones-","dir":"","previous_headings":"","what":"Visualization Of T-cell Clonal Expansion","title":"Visualization Of T-cell Clonal Expansion","text":"APackOfTheClones R package produce “ball-packing” visualizations clonal expansion T-cells seurat(V4) object, based T-cell-receptor (TCR) library generated cellranger output 10X single-cell immune profiling. concept first implemented study Ma et al.[1] Murray Christian Ben Murrell (@Murrellb) nasal polyp TH cells. APackOfTheClones counts clonotype frequencies seurat/umap cluster produces circle packing frequencies intuitively represent clonal expansion. packing cluster plotted roughly coordinates original UMAP reduction color. example APackOfTheClones used public 10X genomics dataset:","code":""},{"path":"https://qile0317.github.io/APackOfTheClones/index.html","id":"installation","dir":"","previous_headings":"","what":"Installation","title":"Visualization Of T-cell Clonal Expansion","text":"complete versions package projected registered CRAN Bioconductor. also want vignettes built locally, instead use:","code":"library(devtools) devtools::install_github(\"Qile0317/APackOfTheClones\") devtools::install_github(\"Qile0317/APackOfTheClones\", build_vignettes = TRUE)"},{"path":"https://qile0317.github.io/APackOfTheClones/index.html","id":"usage","dir":"","previous_headings":"","what":"Usage","title":"Visualization Of T-cell Clonal Expansion","text":"main ball packing function clonal_expansion_plot package takes two main arguments: - Seurat object UMAP reduction - TCR library dataframe, all_contig_annotations.csv generated Cell Ranger integrates TCR library seurat object metadata(creates new temporary seurat object). produce ggplot clusters circles roughly UMAP coordinates, circle size represents clone size. example shown . Run ?clonal_expansion_plot details customization resulting plot optional arguments, error handling. also highly recommended save plot svg use publications. addition, integrate_tcr can just integrate TCR V(D)J library seurat object metadata analyses: function also takes care multiple rows data cell barcode. Run ?integrate_tcr details.","code":"library(Seurat) library(readr) library(APackOfTheClones)  # run sc-RNAseq pipeline to produce a seurat_object  seurat_object <- RunUMAP(seurat_object) TCR_dataframe <- read.csv(\"file_location/all_contig_annotations.csv\")  # produce the ball-packing plot ball_pack_plot <- clonal_expansion_plot(seurat_object, TCR_dataframe) ball_pack_plot TCR_dataframe <- read.csv(\"file_location/all_contig_annotations.csv\") integrated_seurat_object <- integrate_tcr(seurat_object, TCR_dataframe)  # or simply modify the current seurat object seurat_object <- integrate_tcr(seurat_object, TCR_dataframe)  # The integrated seurat object can even be just passed to the clonal expansion plot without the TCR dataframe ball_pack_plot <- clonal_expansion_plot(seurat_object) ball_pack_plot"},{"path":"https://qile0317.github.io/APackOfTheClones/index.html","id":"documentation","dir":"","previous_headings":"","what":"Documentation","title":"Visualization Of T-cell Clonal Expansion","text":"Comprehensive documentation, vignettes, changelog deployed https://qile0317.github.io/APackOfTheClones/ exported functions function level documentation can called ?function. Additionally, mentioned Installation section earlier, vignettes can also built locally. Currently, one vignette named \"Clonal_expansion_plotting\" walkthrough clonal expansion visualization workflow. vignettes can also viewed online https://qile0317.github.io/APackOfTheClones/articles/","code":""},{"path":"https://qile0317.github.io/APackOfTheClones/index.html","id":"contributing","dir":"","previous_headings":"","what":"Contributing","title":"Visualization Of T-cell Clonal Expansion","text":"APackOfTheClones currently incomplete, features, tests, bugfixes, documentation come. However, pull requests forked branches welcome mostly solo-project moment. major changes, please open issue first discuss like change. Please also make sure update tests appropriate. explanation algorithms eventually made publicly available either pre-print developer vignette.","code":""},{"path":"https://qile0317.github.io/APackOfTheClones/index.html","id":"contact","dir":"","previous_headings":"","what":"Contact","title":"Visualization Of T-cell Clonal Expansion","text":"Qile Yang - qile0317@gmail.com","code":""},{"path":"https://qile0317.github.io/APackOfTheClones/index.html","id":"references","dir":"","previous_headings":"","what":"References","title":"Visualization Of T-cell Clonal Expansion","text":"[1] Ma, J., Tibbitt, C. ., Georén, S. K., Christian, M., Murrell, B., Cardell, L. O., Bachert, C., & Coquet, J. M. (2021). Single-cell analysis pinpoints distinct populations cytotoxic CD4+ T cells IL-10+CD109+ TH2 cell population nasal polyps. Science immunology, 6(62), eabg6356. https://doi.org/10.1126/sciimmunol.abg6356 [2] atakanekiz (2019) Tutorial:Integrating VDJ sequencing data Seurat. https://www.biostars.org/p/384640/","code":""},{"path":"https://qile0317.github.io/APackOfTheClones/index.html","id":"acknowledgements","dir":"","previous_headings":"","what":"Acknowledgements","title":"Visualization Of T-cell Clonal Expansion","text":"Thanks Ben Murrell (@murrelb) Karolinska Institute introducing idea giving suggestions.","code":""},{"path":"https://qile0317.github.io/APackOfTheClones/reference/APackOfTheClones-package.html","id":null,"dir":"Reference","previous_headings":"","what":"APackOfTheClones: Visualization Of T-cell Clonal Expansion — APackOfTheClones-package","title":"APackOfTheClones: Visualization Of T-cell Clonal Expansion — APackOfTheClones-package","text":"circle packing package visualizing T-cell clonal expansion integrating scRNAseq TCR library data.","code":""},{"path":[]},{"path":"https://qile0317.github.io/APackOfTheClones/reference/APackOfTheClones-package.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"APackOfTheClones: Visualization Of T-cell Clonal Expansion — APackOfTheClones-package","text":"Maintainer: Qile Yang qile0317@gmail.com [copyright holder]","code":""},{"path":"https://qile0317.github.io/APackOfTheClones/reference/clonal_expansion_plot.html","id":null,"dir":"Reference","previous_headings":"","what":"Visualize T cell clonal expansion with a ball-packing plot. — clonal_expansion_plot","title":"Visualize T cell clonal expansion with a ball-packing plot. — clonal_expansion_plot","text":"Integrates cell ranger T cell library Seurat object UMAP reduction. gets sizes unique clones utilizes circle-packing algorithm pack circles representing individual clones approximately UMAP coordinates clusters ggplot object.","code":""},{"path":"https://qile0317.github.io/APackOfTheClones/reference/clonal_expansion_plot.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Visualize T cell clonal expansion with a ball-packing plot. — clonal_expansion_plot","text":"","code":"clonal_expansion_plot(   seurat_obj,   tcr_df = \"seurat_obj_already_integrated\",   res = 360,   clone_scale_factor = 0.1,   rad_scale_factor = 0.95,   ORDER = TRUE,   try_place = FALSE,   verbose = TRUE,   repulse = FALSE,   repulsion_threshold = 1,   repulsion_strength = 1,   max_repulsion_iter = 10,   use_default_theme = TRUE,   show_origin = FALSE,   retain_axis_scales = FALSE,   add_size_legend = TRUE,   legend_sizes = c(1, 5, 50),   legend_position = \"top_left\",   legend_buffer = 1.5,   legend_color = \"#808080\",   legend_spacing = 0.4 )"},{"path":"https://qile0317.github.io/APackOfTheClones/reference/clonal_expansion_plot.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Visualize T cell clonal expansion with a ball-packing plot. — clonal_expansion_plot","text":"seurat_obj Seurat object least UMAP reduction. Can either already integrated T cell library via `integrate_tcr(seurat_obj, tcr_df)`, case subsquent `tcr_df` argument can left empty. Else, object must regular seurat object T cell library must inputted following `tcr_df` argument tcr_df left empty, `seurat_obj` assumed already integrated. Otherwise, `data.frame` T cell library generated 10X genomics' Cell Ranger. dataframe least `barcode` `raw_clonotype_id` columns. res number points generated path per full circle. plot viewers, circles seem slightly pixelated, highly recommended first try export plot `.svg` increasing `res` clone_scale_factor numeric. Decides much scale circle. Usually kept around 0.01 somewhat maintain UMAP structure large datasets. However, plot displayed ever blank, first try increasing value. rad_scale_factor numeric. indicates much radii clones decrease add slight gap . Defaults 1 0.85-0.95 values recommended. `rad_scale_factor` `clone_scale_factor` may need repeatedly readjusted ORDER logical. Decides largest clones cluster centroids try_place `TRUE`, always minimizes distance newly placed circle origin verbose logical. Decides visual cues print REPL packing progress repulse `TRUE`, attempt push overlapping clusters away . repulsion_threshold numeric. radius cluster overlap acceptable repulsion_strength numeric. smaller value less clusters repulse max_repulsion_iter numeric. number repulsion iterations, note increasing value may occasionally even lead worse looking plots clusters may repulse eachother much use_default_theme `TRUE`, resulting plot theme seurat UMAP. Else, plot simply blank background show_origin logical. `TRUE`, centers circle plotted retain_axis_scales `TRUE`, approximately maintains axis scales original UMAP. However, attempt extend axes never shorten. add_size_legend `TRUE`, adds legend plot titled `\"Clone sizes\"` indicating relative sizes clones. legend_sizes numeric vector. Indicates circle sizes displayed legend defaults `c(1, 5, 10)`. legend_position character. Can set either `\"top_left\"`, `\"top_right\"`, `\"bottom_left\"`, `\"bottom_right\"` places legend roughly corresponding position legend_buffer numeric. Indicates much \"push\" legend towards center plot selected corner. negative, push away legend_color character. Indicates hex color circles displayed legend. Defaults hex code gray legend_spacing numeric. Indicates horizontal distance stacked circle size legend. Usually kept 0.75 -ish depending plot size.","code":""},{"path":"https://qile0317.github.io/APackOfTheClones/reference/clonal_expansion_plot.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Visualize T cell clonal expansion with a ball-packing plot. — clonal_expansion_plot","text":"Returns ggplot2 object ball packing plot. Can operated like normal ggplot objects","code":""},{"path":[]},{"path":"https://qile0317.github.io/APackOfTheClones/reference/clonal_expansion_plot.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Visualize T cell clonal expansion with a ball-packing plot. — clonal_expansion_plot","text":"","code":"if (FALSE) { library(Seurat) library(readr) library(APackOfTheClones)  # run sc-RNAseq pipeline to produce a seurat_object  seurat_object <- RunUMAP(seurat_object) TCR_dataframe <- read.csv(\"file_location/all_contig_annotations.csv\")  # produce and show the ball-packing plot by integrating the data ball_pack_plot <- clonal_expansion_plot(seurat_object, TCR_dataframe) ball_pack_plot }"},{"path":"https://qile0317.github.io/APackOfTheClones/reference/count_clone_sizes.html","id":null,"dir":"Reference","previous_headings":"","what":"count the number of clonotype sizes per cell cluster in a seurat object integrated with a TCR library — count_clone_sizes","title":"count the number of clonotype sizes per cell cluster in a seurat object integrated with a TCR library — count_clone_sizes","text":"count number clonotype sizes per cell cluster seurat object integrated TCR library","code":""},{"path":"https://qile0317.github.io/APackOfTheClones/reference/count_clone_sizes.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"count the number of clonotype sizes per cell cluster in a seurat object integrated with a TCR library — count_clone_sizes","text":"","code":"count_clone_sizes(integrated_seurat_obj)"},{"path":"https://qile0317.github.io/APackOfTheClones/reference/count_clone_sizes.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"count the number of clonotype sizes per cell cluster in a seurat object integrated with a TCR library — count_clone_sizes","text":"integrated_seurat_obj Seurat object integrated T-cell receptor library integrate_tcr. specifically, metadata, must least elements `seurat_clusters` `raw_clonotype_id`","code":""},{"path":"https://qile0317.github.io/APackOfTheClones/reference/count_clone_sizes.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"count the number of clonotype sizes per cell cluster in a seurat object integrated with a TCR library — count_clone_sizes","text":"Returns list `table` objects, element tabled clonotype frequencies seurat cluster corresponding index - 1. example, 5th element tabled frequency counts corresponds 4th seurat cluster (seurat clusters 0-indexed). element `NULL`, indicates corresponding T-cell receptor barcode cells cluster.","code":""},{"path":[]},{"path":"https://qile0317.github.io/APackOfTheClones/reference/count_clone_sizes.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"count the number of clonotype sizes per cell cluster in a seurat object integrated with a TCR library — count_clone_sizes","text":"","code":"if (FALSE) { library(Seurat) library(APackOfTheClones)  # produce an integrated seurat_object seurat_object <- integrate_tcr(seurat_obj, tcr_dataframe) clonotype_counts <- count_clone_sizes(seurat_obj) }"},{"path":"https://qile0317.github.io/APackOfTheClones/reference/integrate_tcr.html","id":null,"dir":"Reference","previous_headings":"","what":"Integrate a TCR library into Seurat object metadata — integrate_tcr","title":"Integrate a TCR library into Seurat object metadata — integrate_tcr","text":"Modifies seurat object's metadata taking columns `all_contig_annotations.csv`, adding new elements `seurat_obj@meta.data`,  corresponding cells' barcodes handling duplicates (since sequencing TRA TRB genes creates multiple data points cell).","code":""},{"path":"https://qile0317.github.io/APackOfTheClones/reference/integrate_tcr.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Integrate a TCR library into Seurat object metadata — integrate_tcr","text":"","code":"integrate_tcr(seurat_obj, tcr_file, verbose = TRUE)"},{"path":"https://qile0317.github.io/APackOfTheClones/reference/integrate_tcr.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Integrate a TCR library into Seurat object metadata — integrate_tcr","text":"seurat_obj Seurat object tcr_file `data.frame` T cell library generated Cell Ranger. important row cell barcodes strictly named `\"barcode\"`, deafult name barcodes 10X's `all_contig_annotations.csv` file. verbose `TRUE`, display progress bar R console.","code":""},{"path":"https://qile0317.github.io/APackOfTheClones/reference/integrate_tcr.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Integrate a TCR library into Seurat object metadata — integrate_tcr","text":"Returns new Seurat object new elements metadata","code":""},{"path":"https://qile0317.github.io/APackOfTheClones/reference/integrate_tcr.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Integrate a TCR library into Seurat object metadata — integrate_tcr","text":"Columns cells (barcodes) duplicates another row concatenated strings, seperated `__` metadata element. Barcodes TCR library matches barcodes `seurat_obj` add `NA`s elements index.","code":""},{"path":"https://qile0317.github.io/APackOfTheClones/reference/integrate_tcr.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"Integrate a TCR library into Seurat object metadata — integrate_tcr","text":"atakanekiz (2019) Tutorial:Integrating VDJ sequencing data Seurat. https://www.biostars.org/p/384640/","code":""},{"path":"https://qile0317.github.io/APackOfTheClones/reference/integrate_tcr.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Integrate a TCR library into Seurat object metadata — integrate_tcr","text":"","code":"if (FALSE) { library(Seurat) library(readr) library(APackOfTheClones)  # run sc-RNAseq pipeline to produce a seurat_object  # read in the TCR data TCR_dataframe <- read.csv(\"file_location/all_contig_annotations.csv\")  # integrate the TCR data into new seurat object integrated_seurat_object <- integrate_tcr(seurat_object, TCR_dataframe)  # or simply modify the current seurat object seurat_object <- integrate_tcr(seurat_object, TCR_dataframe) }"},{"path":[]},{"path":"https://qile0317.github.io/APackOfTheClones/news/index.html","id":"additions-0-1-1","dir":"Changelog","previous_headings":"","what":"Additions","title":"APackOfTheClones 0.1.1","text":"preliminary user vignette can viewed documentation website, code chunks missing site. unclear currently can viewed R either. Future patches improve .","code":""},{"path":"https://qile0317.github.io/APackOfTheClones/news/index.html","id":"changes-0-1-1","dir":"Changelog","previous_headings":"","what":"Changes","title":"APackOfTheClones 0.1.1","text":"initial version automated cluster repulsion correctly implemented related arguments clonal_expansion_plot “unlocked”. Size legends now correctly implemented, related arguments also “unlocked” clonal_expansion_plot. Function documentation README general slightly improved. (automatically updated pkgdown website)","code":""},{"path":"https://qile0317.github.io/APackOfTheClones/news/index.html","id":"apackoftheclones-010","dir":"Changelog","previous_headings":"","what":"APackOfTheClones 0.1.0","title":"APackOfTheClones 0.1.0","text":"Initial semi-stable release. main functions package working default parameters. package currently exports three functions: integrate_tcr count_clone_sizes clonal_expansion_plot documentation, including documentation site. Currently, Automated cluster repulsion uses highly flawed mathematical formula loosely based force directed graph drawing techniques, resulting plots presentable function disabled temporarily","code":""},{"path":"https://qile0317.github.io/APackOfTheClones/news/index.html","id":"future-featuresplans-0-1-0","dir":"Changelog","previous_headings":"","what":"Future features/plans:","title":"APackOfTheClones 0.1.0","text":"Customizable cluster coloration, just based original Seurat/ggplot palette User-controlled cluster shifting Comprehensive cluster repulsion better legends optional legend border automated optimization initial parameters clonal_expansion_plot, especially clone_scale_factor BCR library integration User vignette Developer vignette Submission CRAN Bioconductor Rewrite certain circle packing functions rust improve performance","code":""}]
