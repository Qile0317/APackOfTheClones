[{"path":"https://qile0317.github.io/scballpack/LICENSE.html","id":null,"dir":"","previous_headings":"","what":"MIT License","title":"MIT License","text":"Copyright (c) 2023 Qile Yang Permission hereby granted, free charge, person obtaining copy software associated documentation files (“Software”), deal Software without restriction, including without limitation rights use, copy, modify, merge, publish, distribute, sublicense, /sell copies Software, permit persons Software furnished , subject following conditions: copyright notice permission notice shall included copies substantial portions Software. SOFTWARE PROVIDED “”, WITHOUT WARRANTY KIND, EXPRESS IMPLIED, INCLUDING LIMITED WARRANTIES MERCHANTABILITY, FITNESS PARTICULAR PURPOSE NONINFRINGEMENT. EVENT SHALL AUTHORS COPYRIGHT HOLDERS LIABLE CLAIM, DAMAGES LIABILITY, WHETHER ACTION CONTRACT, TORT OTHERWISE, ARISING , CONNECTION SOFTWARE USE DEALINGS SOFTWARE.","code":""},{"path":"https://qile0317.github.io/scballpack/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"Qile Yang. Maintainer, author.","code":""},{"path":"https://qile0317.github.io/scballpack/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Yang, Qile. 2023. scballpack: Visualize T cell clonal expansion via circle packing.  URL https://github.com/Qile0317/scballpack","code":"@Manual{,   title = {scballpack: Visualize T cell clonal expansion via circle packing},   author = {Qile Yang},   year = {2023},   url = {https://github.com/Qile0317/scballpack}, }"},{"path":"https://qile0317.github.io/scballpack/index.html","id":"apackoftheclones-","dir":"","previous_headings":"","what":"Visualization Of T-cell Clonal Expansion","title":"Visualization Of T-cell Clonal Expansion","text":"APackOfTheClones R package produce “ball-packing” visualizations clonal expansion T-cells seurat(V4) object, based T-cell-receptor (TCR) library generated cellranger output 10X single-cell immune profiling. concept first implemented study Ma et al.[1] Murray Christian Ben Murrell (@Murrellb) nasal polyp TH cells. APackOfTheClones counts clonotype frequencies seurat/umap cluster produces circle packing frequencies intuitively represent clonal expansion. packing cluster plotted roughly coordinates original UMAP reduction color. example APackOfTheClones used public 10X genomics dataset:","code":""},{"path":"https://qile0317.github.io/scballpack/index.html","id":"installation","dir":"","previous_headings":"","what":"Installation","title":"Visualization Of T-cell Clonal Expansion","text":"complete versions package projected registered CRAN","code":"library(devtools) devtools::install_github(\"Qile0317/APackOfTheClones\")"},{"path":"https://qile0317.github.io/scballpack/index.html","id":"usage","dir":"","previous_headings":"","what":"Usage","title":"Visualization Of T-cell Clonal Expansion","text":"main ball packing function clonal_expansion_plot package takes two main arguments: - Seurat object UMAP reduction - TCR library dataframe, all_contig_annotations.csv generated Cell Ranger integrates TCR library seurat object metadata(creates new temporary seurat object). produce ggplot clusters circles roughly UMAP coordinates, circle size represents clone size. example shown . also highly recommended save plot svg use publications. addition, integrate_tcr can just integrate TCR V(D)J library seurat object metadata analyses: also takes care multiple rows data cell barcode. Run ?integrate_tcr details.","code":"library(Seurat) library(readr) library(APackOfTheClones)  # run sc-RNAseq pipeline to produce a seurat_object  seurat_object <- RunUMAP(seurat_object) TCR_dataframe <- read.csv(\"file_location/all_contig_annotations.csv\")  # produce the ball-packing plot ball_pack_plot <- clonal_expansion_plot(seurat_object, TCR_dataframe) ball_pack_plot TCR_dataframe <- read.csv(\"file_location/all_contig_annotations.csv\") integrated_seurat_object <- integrate_tcr(seurat_object, TCR_dataframe)  # or simply modify the current seurat object seurat_object <- integrate_tcr(seurat_object, TCR_dataframe)"},{"path":"https://qile0317.github.io/scballpack/index.html","id":"contributing","dir":"","previous_headings":"","what":"Contributing","title":"Visualization Of T-cell Clonal Expansion","text":"APackOfTheClones currently incomplete, features, tests, bugfixes, documentation come. However, pull requests forked branches welcome mostly solo-project moment. major changes, please open issue first discuss like change. Please also make sure update tests appropriate. explanation algorithms eventually made publicly available either pre-print developer vignette.","code":""},{"path":"https://qile0317.github.io/scballpack/index.html","id":"contact","dir":"","previous_headings":"","what":"Contact","title":"Visualization Of T-cell Clonal Expansion","text":"Qile Yang - qile0317@gmail.com","code":""},{"path":"https://qile0317.github.io/scballpack/index.html","id":"references","dir":"","previous_headings":"","what":"References","title":"Visualization Of T-cell Clonal Expansion","text":"[1] Ma, J., Tibbitt, C. ., Georén, S. K., Christian, M., Murrell, B., Cardell, L. O., Bachert, C., & Coquet, J. M. (2021). Single-cell analysis pinpoints distinct populations cytotoxic CD4+ T cells IL-10+CD109+ TH2 cell population nasal polyps. Science immunology, 6(62), eabg6356. https://doi.org/10.1126/sciimmunol.abg6356 [2] atakanekiz (2019) Tutorial:Integrating VDJ sequencing data Seurat. https://www.biostars.org/p/384640/","code":""},{"path":"https://qile0317.github.io/scballpack/index.html","id":"acknowledgements","dir":"","previous_headings":"","what":"Acknowledgements","title":"Visualization Of T-cell Clonal Expansion","text":"Thanks Ben Murrell (@murrelb) Karolinska Institute introducing idea giving suggestions.","code":""},{"path":"https://qile0317.github.io/scballpack/reference/APackOfTheClones-package.html","id":null,"dir":"Reference","previous_headings":"","what":"APackOfTheClones: Visualization Of T-cell Clonal Expansion — APackOfTheClones-package","title":"APackOfTheClones: Visualization Of T-cell Clonal Expansion — APackOfTheClones-package","text":"circle packing package visualizing T-cell clonal expansion integrating scRNAseq TCR library data.","code":""},{"path":[]},{"path":"https://qile0317.github.io/scballpack/reference/APackOfTheClones-package.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"APackOfTheClones: Visualization Of T-cell Clonal Expansion — APackOfTheClones-package","text":"Maintainer: Qile Yang qile0317@gmail.com","code":""},{"path":"https://qile0317.github.io/scballpack/reference/clonal_expansion_plot.html","id":null,"dir":"Reference","previous_headings":"","what":"Visualize T cell clonal expansion with a ball-packing plot. — clonal_expansion_plot","title":"Visualize T cell clonal expansion with a ball-packing plot. — clonal_expansion_plot","text":"Integrates cell ranger T cell library Seurat object UMAP reduction. gets sizes unique clones utilizes circle-packing algorithm pack circles representing individual clones approximately UMAP coordinates clusters ggplot object.","code":""},{"path":"https://qile0317.github.io/scballpack/reference/clonal_expansion_plot.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Visualize T cell clonal expansion with a ball-packing plot. — clonal_expansion_plot","text":"","code":"clonal_expansion_plot(   seurat_obj,   tcr_df,   res = 360,   clone_scale_factor = 0.01,   rad_scale_factor = 1,   ORDER = TRUE,   try_place = FALSE,   progbar = TRUE,   repulse = FALSE,   repulsion_threshold = 1,   repulsion_strength = 0.05,   max_repulsion_iter = 100,   use_default_theme = TRUE,   show_origin = FALSE,   retain_axis_scales = TRUE )"},{"path":"https://qile0317.github.io/scballpack/reference/clonal_expansion_plot.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Visualize T cell clonal expansion with a ball-packing plot. — clonal_expansion_plot","text":"seurat_obj Seurat object UMAP reduction. tcr_df Dataframe T cell library generated Cell Ranger res number points generated path per full circle. clone_scale_factor numeric. Decides much scale circle. Usually kept around 0.01 somewhat maintain UMAP structure rad_scale_factor numeric. indicates much radii clones decrease add slight gap . Defaults 1 0.85-0.95 values recommended. ORDER logical. Decides largest clones cluster centroids try_place `TRUE`, always minimizes distance newly placed circle origin progbar logical. Decides visual cues print REPL packing progress repulse CURRENTLY BUGGED! SET `TRUE`. intented functionality : `TRUE`, attempt push overlapping clusters away . repulsion_threshold numeric. radius cluster overlap acceptable repulsion_strength numeric. smaller value less clusters repulse max_repulsion_iter numeric. number repulsion iterations. use_default_theme `TRUE`, resulting plot theme seurat UMAP show_origin logical. `TRUE`, centers circle plotted retain_axis_scales `TRUE`, approximately maintains axis scales original UMAP.","code":""},{"path":"https://qile0317.github.io/scballpack/reference/clonal_expansion_plot.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Visualize T cell clonal expansion with a ball-packing plot. — clonal_expansion_plot","text":"Returns ggplot2 object ball packing plot. Can operated like normal ggplot objects","code":""},{"path":[]},{"path":"https://qile0317.github.io/scballpack/reference/clonal_expansion_plot.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Visualize T cell clonal expansion with a ball-packing plot. — clonal_expansion_plot","text":"","code":"if (FALSE) { library(Seurat) library(readr) library(scballpack)  # run sc-RNAseq pipeline to produce a seurat_object  seurat_object <- RunUMAP(seurat_object) TCR_dataframe <- read.csv(\"file_location/all_contig_annotations.csv\")  # produce and show the ball-packing plot ball_pack_plot <- clonal_expansion_plot(seurat_object, TCR_dataframe) ball_pack_plot }"},{"path":"https://qile0317.github.io/scballpack/reference/integrate_tcr.html","id":null,"dir":"Reference","previous_headings":"","what":"Integrate a TCR library into Seurat object metadata — integrate_tcr","title":"Integrate a TCR library into Seurat object metadata — integrate_tcr","text":"Modifies copy current seurat object metadata taking columns `all_contig_annotations.csv`, adding new elements `seurat_obj@meta.data`","code":""},{"path":"https://qile0317.github.io/scballpack/reference/integrate_tcr.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Integrate a TCR library into Seurat object metadata — integrate_tcr","text":"","code":"integrate_tcr(seurat_obj, tcr_file)"},{"path":"https://qile0317.github.io/scballpack/reference/integrate_tcr.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Integrate a TCR library into Seurat object metadata — integrate_tcr","text":"seurat_obj Seurat object tcr_file `data.frame` T cell library generated Cell Ranger","code":""},{"path":"https://qile0317.github.io/scballpack/reference/integrate_tcr.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Integrate a TCR library into Seurat object metadata — integrate_tcr","text":"Returns new Seurat object new elements metadata","code":""},{"path":"https://qile0317.github.io/scballpack/reference/integrate_tcr.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Integrate a TCR library into Seurat object metadata — integrate_tcr","text":"Columns cells (barcodes) duplicates another row concatenated strings, seperated `__` metadata element. Barcodes TCR library matches barcodes `seurat_obj` add `NA`s elements index.","code":""},{"path":"https://qile0317.github.io/scballpack/reference/integrate_tcr.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"Integrate a TCR library into Seurat object metadata — integrate_tcr","text":"atakanekiz (2019) Tutorial:Integrating VDJ sequencing data Seurat. https://www.biostars.org/p/384640/","code":""},{"path":"https://qile0317.github.io/scballpack/reference/integrate_tcr.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Integrate a TCR library into Seurat object metadata — integrate_tcr","text":"","code":"if (FALSE) { library(Seurat) library(readr) library(scballpack)  # run sc-RNAseq pipeline to produce a seurat_object  # read in the TCR data TCR_dataframe <- read.csv(\"file_location/all_contig_annotations.csv\")  # integrate the TCR data into new seurat object integrated_seurat_object <- integrate_tcr(seurat_object, TCR_dataframe)  # or simply modify the current seurat object seurat_object <- integrate_tcr(seurat_object, TCR_dataframe) }"},{"path":"https://qile0317.github.io/scballpack/news/index.html","id":"apackoftheclones-010-2023-03-28","dir":"Changelog","previous_headings":"","what":"APackOfTheClones 0.1.0 (2023-03-28)","title":"APackOfTheClones 0.1.0 (2023-03-28)","text":"Initial barebones release. main functions package working well default parameters. list currently known bugs: - Automated cluster repulsion uses highly flawed mathematical formula loosely based force directed graph drawing techniques. user ignore repulsion related arguments. - progress bars individual cluster circle packing sometimes exceed 100% /duplicated Upcoming features : - Customizable cluster coloration, just based original seurat/ggplot palette - User-controlled cluster shifting - Comprehensive cluster repulsion","code":""}]
