<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content="
This function is a convenience function for users to get a list of clonotypes
which are shared between seurat clusters. If run_id is inputted, then the
function will attempt to get the shared clonotypes from the corresponding
APackOfTheClones run generated from RunAPOTC. Otherwise, it will use the
filtering / subsetting parameters to generate the shared clones by
internally running RunAPOTC with the same parameters and returning the
shared clones."><title>Compute a list of clonotypes that are shared between seurat clusters — getSharedClones • APackOfTheClones</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Compute a list of clonotypes that are shared between seurat clusters — getSharedClones"><meta property="og:description" content="
This function is a convenience function for users to get a list of clonotypes
which are shared between seurat clusters. If run_id is inputted, then the
function will attempt to get the shared clonotypes from the corresponding
APackOfTheClones run generated from RunAPOTC. Otherwise, it will use the
filtering / subsetting parameters to generate the shared clones by
internally running RunAPOTC with the same parameters and returning the
shared clones."><meta property="og:image" content="https://qile0317.github.io/APackOfTheClones/logo.png"><meta name="robots" content="noindex"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--><!-- Global site tag (gtag.js) - Google Analytics --><script async src="https://www.googletagmanager.com/gtag/js?id=G-TSDH5XEN3S"></script><script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-TSDH5XEN3S');
</script></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light" data-bs-theme="light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">APackOfTheClones</a>

    <small class="nav-text text-danger me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="In-development version">1.1.0.9000</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item">
  <a class="nav-link" href="../articles/APackOfTheClones-install.html">Install</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="../articles/APackOfTheClones.html">Get started</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-vignettes">Vignettes</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-vignettes">
    <a class="dropdown-item" href="../articles/APackOfTheClones-runs.html">Storing and Fine-Tuning APackOfTheClones Runs</a>
    <a class="dropdown-item" href="../articles/APackOfTheClones-shared.html">Working With Clonotypes Shared Across Clusters</a>
    <a class="dropdown-item" href="../articles/APackOfTheClones-utils.html">Clonal Analysis Utilities in APackOfTheClones</a>
  </div>
</li>
<li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-archive">Archive</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-archive">
    <a class="dropdown-item" href="../articles/archive/v0-main.html">v0.1.x main vignette</a>
  </div>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"><li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/Qile0317/APackOfTheClones/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div>

    
  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Compute a list of clonotypes that are shared between seurat clusters</h1>
      <small class="dont-index">Source: <a href="https://github.com/Qile0317/APackOfTheClones/blob/HEAD/R/ApotcClonalNetwork.R" class="external-link"><code>R/ApotcClonalNetwork.R</code></a></small>
      <div class="d-none name"><code>getSharedClones.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p><a href="https://lifecycle.r-lib.org/articles/stages.html#experimental" class="external-link"><img src="figures/lifecycle-experimental.svg" alt="[Experimental]"></a></p>
<p>This function is a convenience function for users to get a list of clonotypes
which are shared between seurat clusters. If <code>run_id</code> is inputted, then the
function will attempt to get the shared clonotypes from the corresponding
APackOfTheClones run generated from <a href="RunAPOTC.html">RunAPOTC</a>. Otherwise, it will use the
filtering / subsetting parameters to generate the shared clones by
internally running <a href="RunAPOTC.html">RunAPOTC</a> with the same parameters and returning the
shared clones.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">getSharedClones</span><span class="op">(</span></span>
<span>  <span class="va">seurat_obj</span>,</span>
<span>  reduction_base <span class="op">=</span> <span class="st">"umap"</span>,</span>
<span>  clonecall <span class="op">=</span> <span class="st">"strict"</span>,</span>
<span>  <span class="va">...</span>,</span>
<span>  extra_filter <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  alt_ident <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  run_id <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  top <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  top_per_cl <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  intop <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  intop_per_cl <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  publicity <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">2L</span>, <span class="cn">Inf</span><span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>
    <dl><dt>seurat_obj</dt>
<dd><p>Seurat object with one or more dimension reductions and
already have been integrated with a TCR/BCR library with
<code>scRepertoire::combineExpression</code>.</p></dd>


<dt>reduction_base</dt>
<dd><p>character. The seurat reduction to base the clonal
expansion plotting on. Defaults to <code>'umap'</code> but can be any reduction present
within the reductions slot of the input seurat object, including custom ones.
If `'pca'``, the cluster coordinates will be based on PC1 and PC2.
However, generally APackOfTheClones is used for displaying UMAP and
occasionally t-SNE versions to intuitively highlight clonal expansion.</p></dd>


<dt>clonecall</dt>
<dd><p>character. The column name in the seurat object metadata to
use. See <code>scRepertoire</code> documentation for more information about this
parameter that is central to both packages.</p></dd>


<dt>...</dt>
<dd><p>additional "subsetting" keyword arguments indicating the rows
corresponding to elements in the seurat object metadata that should be
filtered by. E.g., <code>seurat_clusters = c(1, 9, 10)</code> will filter the cells to
those in the <code>seurat_clusters</code> column with any of the values 1, 9, and 10.
Unfortunately, column names in the seurat object metadata cannot
conflict with the keyword arguments. <em><strong>MAJOR NOTE</strong></em> if any subsetting
keyword arguments are a <em>prefix</em> of any preceding argument names (e.g. a
column named <code>reduction</code> is a prefix of the <code>reduction_base</code> argument)
R will interpret it as the same argument unless <em>both</em> arguments
are named. Additionally, this means any subsequent arguments <em>must</em> be named.</p></dd>


<dt>extra_filter</dt>
<dd><p>character. An additional string that should be formatted
<em>exactly</em> like a statement one would pass into <a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">dplyr::filter</a> that does
<em>additional</em> filtering to cells in the seurat object - on top of the other
keyword arguments - based on the metadata. This means that it will be
logically AND'ed with any keyword argument filters. This is a more flexible
alternative / addition to the filtering keyword arguments. For example, if
one wanted to filter by the length of the amino acid sequence of TCRs, one
could pass in something like <code>extra_filter = "nchar(CTaa) - 1 &gt; 10"</code>. When
involving characters, ensure to enclose with single quotes.</p></dd>


<dt>alt_ident</dt>
<dd><p>character. By default, cluster identity is assumed to be
whatever is in <code>Idents(seurat_obj)</code>, and clones will be grouped by the active
ident. However, <code>alt_ident</code> could be set as the name of some column in the
meta data of the seurat object to be grouped by. This column is meant to have
been a product of <code><a href="https://rdrr.io/pkg/SeuratObject/man/Idents.html" class="external-link">Seurat::StashIdent</a></code> or manually added.</p></dd>


<dt>run_id</dt>
<dd><p>character. This will be the ID associated with the data of a
run, and will be used by other important functions like <a href="APOTCPlot.html">APOTCPlot</a> and
<a href="AdjustAPOTC.html">AdjustAPOTC</a>. Defaults to <code>NULL</code>, in which case the ID will be generated
in the following format:</p>
<p><code>reduction_base;clonecall;keyword_arguments;extra_filter</code></p>
<p>where if keyword arguments and extra_filter are underscore characters if
there was no input for the <code>...</code> and <code>extra_filter</code> parameters.</p></dd>


<dt>top</dt>
<dd><p>integer or numeric in (0, 1) - if not null, filters the output
clones so that only the shared clonotypes with counts the top <code>top</code> count /
proportion (for numeric in (0, 1) input) shared clones are kept. For cases
where several clonotypes tie in size, the clonotype(s) added are not
guaranteed but deterministic given the other arguments are identical.</p></dd>


<dt>top_per_cl</dt>
<dd><p>integer or numeric in (0, 1) - if not null, filters the
output clones so that for each seurat cluster, only the clonotypes with the
<code>top_per_cl</code> frequency/count is preserved when aggregating shared clones,
in the same way as the above. Note that if inputted in conjunction with
<code>top</code>, it will get the <em>intersection</em> of the clonotypes filtered each way.
For cases where several clonotypes tie in size, the clonotype(s) added are
not guaranteed but deterministic given the other arguments are identical.</p></dd>


<dt>intop</dt>
<dd><p>integer or numeric in (0, 1) - if not null, filters the raw
clone sizes before computing the shared clonotypes so that only the
clonotypes that have their overall size in the top <code>intop</code> largest sizes
(if it is integer, else the <code>intop</code> proportion) are kept. To emphasize,
this argument <em><strong>does not necessarily</strong></em> return the <code>top</code> shared clones
and likely a little less, because this filters the raw clone sizes, of
which, its very likely that not all those clones end up being shared.</p></dd>


<dt>intop_per_cl</dt>
<dd><p>integer or numeric in (0, 1) - if not null, filters
the raw <em>clustered</em> clone sizes before computing shared clones, so that
for every clone in a seurat cluster, the top <code>intop_per_cl</code> count /
proportion (for numeric in (0, 1) input) clones are kept.</p></dd>


<dt>publicity</dt>
<dd><p>numeric pair. A simple filter range of
<code>c(lowerbound, upperbound)</code> to retain only shared clones with their
"publicity" - number of clusters they are present in - within this
range.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    

<p>a named list where each name is a clonotype, each element is a
numeric indicating which seurat cluster(s) its in, in no particular order.
If no shared clones are present, the output is an empty list.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="st">"combined_pbmc"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu">getSharedClones</span><span class="op">(</span><span class="va">combined_pbmc</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $`TRAV8-3.TRAJ42.TRAC;TGTGCTGTGGGTGAGAAGGGTTATGGAGGAAGCCAAGGAAATCTCATCTTT_TRBV12-4.None.TRBJ1-6.TRBC1;TRBV7-6.None.TRBJ1-4.TRBC1;TGTGCCAGCAGTTTCCGACCGCCGGGTTCACCCCTCCACTTT;TGTGCCAGCCACGGCGCCAGGGGTGATGGCTTTTGTGAAAAACTGTTTTTT`</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 3 5</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $`TRAV12-1.TRAJ9.TRAC;TGTGTGGTCTCCGATAATACTGGAGGCTTCAAAACTATCTTT_TRBV9.None.TRBJ2-2.TRBC2;TGTGCCAGCAGCGTAAGGAGGGAAAGGGCGAACACCGGGGAGCTGTTTTTT`</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 3 4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $`TRAV12-2.TRAJ12.TRAC;TGTGCCCGGAAGGTTAGGGATAGCAGCTATAAATTGATCTTC_TRBV6-4.None.TRBJ2-1.TRBC2;TGTGCCAGCAGTGACTCCGGATACAATGAGCAGTTCTTC`</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 3 5</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $`TRAV8-6.TRAJ34.TRAC;TGTGCTGTGACCTTCCATTATAACACCGACAAGCTCATCTTT_TRBV4-1.None.TRBJ2-7.TRBC2;TGCGCCAGCAGCCAAGACCGGACGGGACTAGACTACGAGCAGTACTTC`</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 4 9</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $`TRAV5.TRAJ15.TRAC;TGTGCGGAGCTAAACCAGGCAGGAACTGCTCTGATCTTT_TRBV4-1.None.TRBJ2-2.TRBC2;TGCGCCAGCAGCCAAGCCCCCTTTTCAACCTCCGGGGAGCTGTTTTTT`</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 3 5 9</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $`TRAV16.TRAJ30.TRAC;TGTGCTCTAAGTGGTAGCAGAGATGACAAGATCATCTTT_NA;NA`</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1]  3 13</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $`TRAV24.TRAJ22.TRAC;TGTGCCTCCCTATCTGGTTCTGCAAGGCAACTGACCTTT_TRBV27.None.TRBJ2-7.TRBC2;TGTGCCAGCAGCTCTACAGTTGCTGGCGAGCAGTACTTC`</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 4 5</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $`TRAV10.TRAJ48.TRAC;TGTGTGGTGAGCGACTTTGGAAATGAGAAATTAACCTTT_TRBV27.None.TRBJ2-1.TRBC2;TGTGCCAGCAGTTTAGGGTCGGGGGGGACGGGGAATGAGCAGTTCTTC`</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 3 5</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $`TRAV24.TRAJ22.TRAC;TGTGCCTCCCTTTCTGGTTCTGCAAGGCAACTGACCTTT_TRBV27.None.TRBJ2-1.TRBC2;TGTGCCAGCAGCCCCACAGTAGCGGGGGAGCAGTTCTTC`</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 5 9</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu">getSharedClones</span><span class="op">(</span></span></span>
<span class="r-in"><span>    <span class="va">combined_pbmc</span>,</span></span>
<span class="r-in"><span>    orig.ident <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"P17B"</span>, <span class="st">"P18B"</span><span class="op">)</span>, <span class="co"># a named subsetting parameter</span></span></span>
<span class="r-in"><span>    clonecall <span class="op">=</span> <span class="st">"aa"</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $CVVSDNTGGFKTIF_CASSVRRERANTGELFF</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 3 4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $CVVSDFGNEKLTF_CASSLGSGGTGNEQFF</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 3 5</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $CAVTFHYNTDKLIF_CASSQDRTGLDYEQYF</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 4 9</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># extract shared clones from a past RunAPOTC run</span></span></span>
<span class="r-in"><span><span class="va">combined_pbmc</span> <span class="op">&lt;-</span> <span class="fu"><a href="RunAPOTC.html">RunAPOTC</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>    <span class="va">combined_pbmc</span>, run_id <span class="op">=</span> <span class="st">"foo"</span>, verbose <span class="op">=</span> <span class="cn">FALSE</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu">getSharedClones</span><span class="op">(</span></span></span>
<span class="r-in"><span>    <span class="va">combined_pbmc</span>, run_id <span class="op">=</span> <span class="st">"foo"</span>, top <span class="op">=</span> <span class="fl">5</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $`TRAV8-3.TRAJ42.TRAC;TGTGCTGTGGGTGAGAAGGGTTATGGAGGAAGCCAAGGAAATCTCATCTTT_TRBV12-4.None.TRBJ1-6.TRBC1;TRBV7-6.None.TRBJ1-4.TRBC1;TGTGCCAGCAGTTTCCGACCGCCGGGTTCACCCCTCCACTTT;TGTGCCAGCCACGGCGCCAGGGGTGATGGCTTTTGTGAAAAACTGTTTTTT`</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 3 5</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $`TRAV12-1.TRAJ9.TRAC;TGTGTGGTCTCCGATAATACTGGAGGCTTCAAAACTATCTTT_TRBV9.None.TRBJ2-2.TRBC2;TGTGCCAGCAGCGTAAGGAGGGAAAGGGCGAACACCGGGGAGCTGTTTTTT`</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 3 4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $`TRAV12-2.TRAJ12.TRAC;TGTGCCCGGAAGGTTAGGGATAGCAGCTATAAATTGATCTTC_TRBV6-4.None.TRBJ2-1.TRBC2;TGTGCCAGCAGTGACTCCGGATACAATGAGCAGTTCTTC`</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 3 5</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $`TRAV5.TRAJ15.TRAC;TGTGCGGAGCTAAACCAGGCAGGAACTGCTCTGATCTTT_TRBV4-1.None.TRBJ2-2.TRBC2;TGCGCCAGCAGCCAAGCCCCCTTTTCAACCTCCGGGGAGCTGTTTTTT`</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 3 5 9</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $`TRAV24.TRAJ22.TRAC;TGTGCCTCCCTATCTGGTTCTGCAAGGCAACTGACCTTT_TRBV27.None.TRBJ2-7.TRBC2;TGTGCCAGCAGCTCTACAGTTGCTGGCGAGCAGTACTTC`</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 4 5</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># doing a run and then getting the clones works too</span></span></span>
<span class="r-in"><span><span class="va">combined_pbmc</span> <span class="op">&lt;-</span> <span class="fu"><a href="RunAPOTC.html">RunAPOTC</a></span><span class="op">(</span><span class="va">combined_pbmc</span>, run_id <span class="op">=</span> <span class="st">"run1"</span>, verbose <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">getSharedClones</span><span class="op">(</span><span class="va">combined_pbmc</span>, run_id <span class="op">=</span> <span class="st">"run1"</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $`TRAV8-3.TRAJ42.TRAC;TGTGCTGTGGGTGAGAAGGGTTATGGAGGAAGCCAAGGAAATCTCATCTTT_TRBV12-4.None.TRBJ1-6.TRBC1;TRBV7-6.None.TRBJ1-4.TRBC1;TGTGCCAGCAGTTTCCGACCGCCGGGTTCACCCCTCCACTTT;TGTGCCAGCCACGGCGCCAGGGGTGATGGCTTTTGTGAAAAACTGTTTTTT`</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 3 5</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $`TRAV12-1.TRAJ9.TRAC;TGTGTGGTCTCCGATAATACTGGAGGCTTCAAAACTATCTTT_TRBV9.None.TRBJ2-2.TRBC2;TGTGCCAGCAGCGTAAGGAGGGAAAGGGCGAACACCGGGGAGCTGTTTTTT`</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 3 4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $`TRAV12-2.TRAJ12.TRAC;TGTGCCCGGAAGGTTAGGGATAGCAGCTATAAATTGATCTTC_TRBV6-4.None.TRBJ2-1.TRBC2;TGTGCCAGCAGTGACTCCGGATACAATGAGCAGTTCTTC`</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 3 5</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $`TRAV8-6.TRAJ34.TRAC;TGTGCTGTGACCTTCCATTATAACACCGACAAGCTCATCTTT_TRBV4-1.None.TRBJ2-7.TRBC2;TGCGCCAGCAGCCAAGACCGGACGGGACTAGACTACGAGCAGTACTTC`</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 4 9</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $`TRAV5.TRAJ15.TRAC;TGTGCGGAGCTAAACCAGGCAGGAACTGCTCTGATCTTT_TRBV4-1.None.TRBJ2-2.TRBC2;TGCGCCAGCAGCCAAGCCCCCTTTTCAACCTCCGGGGAGCTGTTTTTT`</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 3 5 9</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $`TRAV16.TRAJ30.TRAC;TGTGCTCTAAGTGGTAGCAGAGATGACAAGATCATCTTT_NA;NA`</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1]  3 13</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $`TRAV24.TRAJ22.TRAC;TGTGCCTCCCTATCTGGTTCTGCAAGGCAACTGACCTTT_TRBV27.None.TRBJ2-7.TRBC2;TGTGCCAGCAGCTCTACAGTTGCTGGCGAGCAGTACTTC`</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 4 5</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $`TRAV10.TRAJ48.TRAC;TGTGTGGTGAGCGACTTTGGAAATGAGAAATTAACCTTT_TRBV27.None.TRBJ2-1.TRBC2;TGTGCCAGCAGTTTAGGGTCGGGGGGGACGGGGAATGAGCAGTTCTTC`</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 3 5</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $`TRAV24.TRAJ22.TRAC;TGTGCCTCCCTTTCTGGTTCTGCAAGGCAACTGACCTTT_TRBV27.None.TRBJ2-1.TRBC2;TGTGCCAGCAGCCCCACAGTAGCGGGGGAGCAGTTCTTC`</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 5 9</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p></p><p>Developed by Qile Yang.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.8.</p>
</div>

    </footer></div>

  

  

  </body></html>

